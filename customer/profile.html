<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Hồ sơ</title>
  <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
<h2>Hồ sơ khách hàng</h2>
<form id="f"></form>
<div id="msg"></div>
<script>
const id=103
fetch('http://localhost:3000/api/customers/'+id)
.then(r=>r.json()).then(c=>{
  f.innerHTML=`
  <input id="name" value="${c.customerName}">
  <input id="phone" value="${c.phone}">
  <input id="city" value="${c.city}">
  <button>Lưu</button>`
})
f.onsubmit=e=>{
  e.preventDefault()
  fetch('http://localhost:3000/api/customers/'+id,{
    method:'PUT',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({
      customerName:name.value,
      contactLastName:'',
      contactFirstName:'',
      phone:phone.value,
      addressLine1:'',
      addressLine2:'',
      city:city.value,
      state:'',
      postalCode:'',
      country:'VN',
      salesRepEmployeeNumber:null,
      creditLimit:0
    })
  }).then(r=>r.json()).then(()=>msg.textContent='Đã lưu')
}
</script>
</body>
</html>
